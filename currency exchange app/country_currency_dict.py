country_currency_dict = {
    "afghanistan": "afn",
    "albania": "all",
    "algeria": "dzd",
    "american samoa": "usd",
    "andorra": "eur",
    "angola": "aoa",
    "anguilla": "xcd",
    "antarctica": "",
    "antigua and barbuda": "xcd",
    "argentina": "ars",
    "armenia": "amd",
    "aruba": "awg",
    "australia": "aud",
    "austria": "eur",
    "azerbaijan": "azn",
    "bahamas (the)": "bsd",
    "bahrain": "bhd",
    "bangladesh": "bdt",
    "barbados": "bbd",
    "belarus": "byn",
    "belgium": "eur",
    "belize": "bzd",
    "benin": "xof",
    "bermuda": "bmd",
    "bhutan": "btn",
    "bolivia (plurinational state of)": "bob",
    "bonaire, sint eustatius and saba": "usd",
    "bosnia and herzegovina": "bam",
    "botswana": "bwp",
    "bouvet island": "nok",
    "brazil": "brl",
    "british indian ocean territory (the)": "usd",
    "brunei darussalam": "bnd",
    "bulgaria": "bgn",
    "burkina faso": "xof",
    "burundi": "bif",
    "cabo verde": "cve",
    "cambodia": "khr",
    "cameroon": "xaf",
    "canada": "cad",
    "cayman islands (the)": "kyd",
    "central african republic (the)": "xaf",
    "chad": "xaf",
    "chile": "clp",
    "china": "cny",
    "christmas island": "aud",
    "cocos (keeling) islands (the)": "aud",
    "colombia": "cop",
    "comoros (the)": "kmf",
    "congo (the democratic republic of the)": "cdf",
    "congo (the)": "xaf",
    "cook islands (the)": "nzd",
    "costa rica": "crc",
    "croatia": "eur",
    "cuba": "cup",
    "curaçao": "xcg",
    "cyprus": "eur",
    "czech republic (the)": "czk",
    "côte d'ivoire": "xof",
    "denmark": "dkk",
    "djibouti": "djf",
    "dominica": "xcd",
    "dominican republic (the)": "dop",
    "ecuador": "usd",
    "egypt": "egp",
    "el salvador": "usd",
    "equatorial guinea": "xaf",
    "eritrea": "ern",
    "estonia": "eur",
    "ethiopia": "etb",
    "european union": "eur",
    "falkland islands (the) [malvinas]": "fkp",
    "faroe islands (the)": "dkk",
    "fiji": "fjd",
    "finland": "eur",
    "france": "eur",
    "french guiana": "eur",
    "french polynesia": "xpf",
    "french southern territories (the)": "eur",
    "gabon": "xaf",
    "gambia (the)": "gmd",
    "georgia": "gel",
    "germany": "eur",
    "ghana": "ghs",
    "gibraltar": "gip",
    "greece": "eur",
    "greenland": "dkk",
    "grenada": "xcd",
    "guadeloupe": "eur",
    "guam": "usd",
    "guatemala": "gtq",
    "guernsey": "gbp",
    "guinea": "gnf",
    "guinea-bissau": "xof",
    "guyana": "gyd",
    "haiti": "usd",
    "heard island and mcdonald islands": "aud",
    "holy see (the)": "eur",
    "honduras": "hnl",
    "hong kong": "hkd",
    "hungary": "huf",
    "iceland": "isk",
    "india": "inr",
    "indonesia": "idr",
    "international monetary fund (imf)": "xdr",
    "iran (islamic republic of)": "irr",
    "iraq": "iqd",
    "ireland": "eur",
    "isle of man": "gbp",
    "israel": "ils",
    "italy": "eur",
    "jamaica": "jmd",
    "japan": "jpy",
    "jersey": "gbp",
    "jordan": "jod",
    "kazakhstan": "kzt",
    "kenya": "kes",
    "kiribati": "aud",
    "korea (the democratic people's republic of)": "kpw",
    "korea (the republic of)": "krw",
    "kuwait": "kwd",
    "kyrgyzstan": "kgs",
    "lao people's democratic republic (the)": "lak",
    "latvia": "eur",
    "lebanon": "lbp",
    "lesotho": "zar",
    "liberia": "lrd",
    "libya": "lyd",
    "liechtenstein": "chf",
    "lithuania": "eur",
    "luxembourg": "eur",
    "macao": "mop",
    "madagascar": "mga",
    "malawi": "mwk",
    "malaysia": "myr",
    "maldives": "mvr",
    "mali": "xof",
    "malta": "eur",
    "marshall islands (the)": "usd",
    "martinique": "eur",
    "mauritania": "mru",
    "mauritius": "mur",
    "mayotte": "eur",
    "member countries of the african development bank group": "xua",
    "mexico": "mxn",
    "micronesia (federated states of)": "usd",
    "moldova (the republic of)": "mdl",
    "monaco": "eur",
    "mongolia": "mnt",
    "montenegro": "eur",
    "montserrat": "xcd",
    "morocco": "mad",
    "mozambique": "mzn",
    "myanmar": "mmk",
    "namibia": "zar",
    "nauru": "aud",
    "nepal": "npr",
    "netherlands (the)": "eur",
    "new caledonia": "xpf",
    "new zealand": "nzd",
    "nicaragua": "nio",
    "niger (the)": "xof",
    "nigeria": "ngn",
    "niue": "nzd",
    "norfolk island": "aud",
    "northern mariana islands (the)": "usd",
    "norway": "nok",
    "oman": "omr",
    "pakistan": "pkr",
    "palau": "usd",
    "palestine, state of": "",
    "panama": "usd",
    "papua new guinea": "pgk",
    "paraguay": "pyg",
    "peru": "pen",
    "philippines (the)": "php",
    "pitcairn": "nzd",
    "poland": "pln",
    "portugal": "eur",
    "puerto rico": "usd",
    "qatar": "qar",
    "republic of north macedonia": "mkd",
    "romania": "ron",
    "russian federation (the)": "rub",
    "rwanda": "rwf",
    "réunion": "eur",
    "saint barthélemy": "eur",
    "saint helena, ascension and tristan da cunha": "shp",
    "saint kitts and nevis": "xcd",
    "saint lucia": "xcd",
    "saint martin (french part)": "eur",
    "saint pierre and miquelon": "eur",
    "saint vincent and the grenadines": "xcd",
    "samoa": "wst",
    "san marino": "eur",
    "sao tome and principe": "stn",
    "saudi arabia": "sar",
    "senegal": "xof",
    "serbia": "rsd",
    "seychelles": "scr",
    "sierra leone": "sle",
    "singapore": "sgd",
    "sint maarten (dutch part)": "xcg",
    'sistema unitario de compensacion regional de pagos "sucre"': "xsu",
    "slovakia": "eur",
    "slovenia": "eur",
    "solomon islands": "sbd",
    "somalia": "sos",
    "south africa": "zar",
    "south georgia and the south sandwich islands": "",
    "south sudan": "ssp",
    "spain": "eur",
    "sri lanka": "lkr",
    "sudan (the)": "sdg",
    "suriname": "srd",
    "svalbard and jan mayen": "nok",
    "swaziland": "szl",
    "sweden": "sek",
    "switzerland": "chf",
    "syrian arab republic": "syp",
    "taiwan (province of china)": "twd",
    "tajikistan": "tjs",
    "tanzania, united republic of": "tzs",
    "thailand": "thb",
    "timor-leste": "usd",
    "togo": "xof",
    "tokelau": "nzd",
    "tonga": "top",
    "trinidad and tobago": "ttd",
    "tunisia": "tnd",
    "turkey": "try",
    "turkmenistan": "tmt",
    "turks and caicos islands (the)": "usd",
    "tuvalu": "aud",
    "uganda": "ugx",
    "ukraine": "uah",
    "united arab emirates (the)": "aed",
    "united kingdom of great britain and northern ireland (the)": "gbp",
    "united states minor outlying islands (the)": "usd",
    "united states of america (the)": "usd",
    "uruguay": "uyu",
    "uzbekistan": "uzs",
    "vanuatu": "vuv",
    "venezuela (bolivarian republic of)": "ved",
    "viet nam": "vnd",
    "virgin islands (british)": "usd",
    "virgin islands (u.s.)": "usd",
    "wallis and futuna": "xpf",
    "western sahara": "mad",
    "yemen": "yer",
    "zambia": "zmw",
    "zimbabwe": "zwl",
    "åland islands": "eur",
}


from rich import print
from rich.prompt import Prompt
from rich.console import Console
console = Console()
def log_countries():
    import time
    for country, code in country_currency_dict.items():
        print(f"[green]{country}[/green] [red]:[/red] [blue]{code}[/blue]")
        time.sleep(0.5)
        console.clear()



def search_country(name):
    out = ""
    outc = ""
    for country, code in country_currency_dict.items():
        if name.lower() in country or name.lower() in code:
            out = country
            outc = code
        else:
            pass

    if out != "":
        return [out, outc]
    else:
        return ["india", "inr"]


def in_search_out_countrycode_fromchoise(choise):
    c = Prompt.ask("[green]choose the country[/green]", choices=choise)
    a = search_country(c)
    return a


def in_search_out_countrycode():
    c = Prompt.ask("[blue]name/code of the country[/blue]")
    a = search_country(c)
    return a[1]


def api_call_out(name, sd=False):
    import requests
    from key import give_key
    try:
        key = give_key()
    except:
        raise ValueError("insert a valid api key")
    base_currency = name.upper()
    url = f"https://v6.exchangerate-api.com/v6/{key}/latest/{base_currency}"
    try:
        response = requests.get(url)
        data = response.json()
        if sd:
            return data["conversion_rates"]
        else:
            return data
    except:
        return ""

def code_to_country(codi):
    c = "united states of america"
    for country,code in country_currency_dict.items():
        if codi.lower() in code:
            c = country
        else:
            pass
    
    return c



if __name__ == "__main__":
    n = input("enter country name : ")
    print(search_country(n))
    log_countries()
